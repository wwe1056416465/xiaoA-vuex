(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-task-addtask"],{"0fd2":function(t,e,i){"use strict";i.r(e);var a=i("15a7"),n=i("60ea");for(var s in n)"default"!==s&&function(t){i.d(e,t,function(){return n[t]})}(s);i("6f3e");var l=i("2877"),r=Object(l["a"])(n["default"],a["a"],a["b"],!1,null,"fa5cc2e4",null);e["default"]=r.exports},"13ba":function(t,e,i){"use strict";var a=i("8cfa"),n=i.n(a);n.a},"15a7":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-picker",{staticClass:"rui-picker rui-class",attrs:{mode:"multiSelector",range:t.times,value:t.timesIndex,disabled:t.curDisabled},on:{change:function(e){e=t.$handleEvent(e),t.changeDate(e)},cancel:function(e){e=t.$handleEvent(e),t.cancelDate(e)},columnchange:function(e){e=t.$handleEvent(e),t.columnchangeDate(e)}}},[t._v(t._s(t.curValue))])},n=[];i.d(e,"a",function(){return a}),i.d(e,"b",function(){return n})},"17b6":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=n(i("66ce"));function n(t){return t&&t.__esModule?t:{default:t}}var s={name:"rattenking-dtpicker",props:{start:{type:String,default:"1900-00-00 00:00:00"},end:{type:String,default:"2500-12-30 23:59:59"},value:{type:String,default:""},fields:{type:String,default:"second"},disabled:{type:Boolean,default:!1}},data:function(){return{times:[["2019","2020"],["01","02"]],timesIndex:[1,1],timesString:null,curValue:this.value,curDisabled:this.disabled,cancel:null}},watch:{value:function(t){this.curValue=t},disabled:function(t){this.curDisabled=t},curDisabled:function(t){this.curDisabled=t},curValue:function(t){this.curValue=t,this.$emit("change",t)},times:function(t){this.times=t},timesIndex:function(t){this.timesIndex=t},cancel:function(t){this.$emit("cancel",t)}},created:function(){if(""===this.value){var t=a.default.getCurrentTimes(),e=[];for(var i in t.detail)if(e.push(t.detail[i]),i===this.fields)break;this.value=a.default.format(e),this.curValue=a.default.format(e)}switch(this.fields){case"year":if(4!==this.value.length)return a.default.error("时间粒度和时间格式不一致"),this.curDisabled=!0,!1;if(4!==this.start.length)return a.default.error("时间粒度和开始时间格式不一致"),this.curDisabled=!0,!1;if(4!==this.end.length)return a.default.error("时间粒度和结束时间格式不一致"),this.curDisabled=!0,!1;break;case"month":if(7!==this.value.length)return a.default.error("时间粒度和时间格式不一致"),this.curDisabled=!0,!1;if(7!==this.start.length)return a.default.error("时间粒度和开始时间格式不一致"),this.curDisabled=!0,!1;if(7!==this.end.length)return a.default.error("时间粒度和结束时间格式不一致"),this.curDisabled=!0,!1;break;case"day":if(10!==this.value.length)return a.default.error("时间粒度和时间格式不一致"),this.curDisabled=!0,!1;if(10!==this.start.length)return a.default.error("时间粒度和开始时间格式不一致"),this.curDisabled=!0,!1;if(10!==this.end.length)return a.default.error("时间粒度和结束时间格式不一致"),this.curDisabled=!0,!1;break;case"hour":if(13!==this.value.length)return a.default.error("时间粒度和时间格式不一致"),this.curDisabled=!0,!1;if(13!==this.start.length)return a.default.error("时间粒度和开始时间格式不一致"),this.curDisabled=!0,!1;if(13!==this.end.length)return a.default.error("时间粒度和结束时间格式不一致"),this.curDisabled=!0,!1;break;case"minute":if(16!==this.value.length)return a.default.error("时间粒度和时间格式不一致"),this.curDisabled=!0,!1;if(16!==this.start.length)return a.default.error("时间粒度和开始时间格式不一致"),this.curDisabled=!0,!1;if(16!==this.end.length)return a.default.error("时间粒度和结束时间格式不一致"),this.curDisabled=!0,!1;break;case"second":if(19!==this.value.length)return a.default.error("时间粒度和时间格式不一致"),this.curDisabled=!0,!1;if(19!==this.start.length)return a.default.error("时间粒度和开始时间格式不一致"),this.curDisabled=!0,!1;if(19!==this.end.length)return a.default.error("时间粒度和结束时间格式不一致"),this.curDisabled=!0,!1;break;default:a.default.error("时间粒度不存在");break}this.value.split(" ");var n=a.default.getCurrentStringValue(this.value);if(a.default.getTimes(this.value)<a.default.getTimes(this.start))return a.default.error("默认时间不能小于开始时间"),this.curDisabled=!0,!1;if(a.default.getTimes(this.value)>a.default.getTimes(this.end))return a.default.error("默认时间不能大于开始时间"),this.curDisabled=!0,!1;var s=a.default.getDateTimes({start:this.start.substring(0,4),end:this.end.substring(0,4),curyear:this.value.substring(0,4),curmonth:this.value.substring(5,7),fields:this.fields}),l=a.default.getTimeIndex(s,n),r=[];l.forEach(function(t){return r.push(t)}),this.times=s,this.timesIndex=l,this.timesString=r},methods:{changeDate:function(t){for(var e=t.detail.value,i=this.times,n=[],s=0,l=e.length;s<l;s++)n.push(i[s][e[s]]);var r=a.default.format(n);this.curValue=r},columnchangeDate:function(t){if("year"===this.fields||"month"===this.fields){var e=a.default.getNewArray(this.timesIndex);return e[t.detail.column]=t.detail.value,this.timesIndex=e,!1}if(0===t.detail.column||1===t.detail.column){var i=a.default.getNewArray(this.times),n=a.default.getNewArray(this.timesIndex);n[t.detail.column]=t.detail.value;var s=a.default.getMonthDay(i[0][n[0]],i[1][n[1]]);i[2]=s,n[2]>s.length-1&&(n[2]=s.length-1),this.times=i,this.timesIndex=n}else{var l=a.default.getNewArray(this.timesIndex);l[t.detail.column]=t.detail.value,this.timesIndex=l}},cancelDate:function(t){this.cancel=t}}};e.default=s},"3ba5":function(t,e,i){"use strict";i.r(e);var a=i("bea2"),n=i.n(a);for(var s in a)"default"!==s&&function(t){i.d(e,t,function(){return a[t]})}(s);e["default"]=n.a},"4e9f":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"content"},[i("v-uni-view",{staticClass:"addTack_top"},[i("v-uni-text",{staticClass:"icon-red"},[t._v("*")]),t._v("为必填项（新建任务仅支持android手机）")],1),i("v-uni-view",{staticClass:"form"},[i("v-uni-form",{ref:"form",on:{submit:function(e){e=t.$handleEvent(e),t.formSubmit(e)},reset:function(e){e=t.$handleEvent(e),t.formReset(e)}}},[i("v-uni-view",{staticClass:"uni-list"},[i("v-uni-view",{staticClass:"uni-list-cell addcell"},[i("v-uni-view",{staticClass:"uni-list-cell-left"},[i("v-uni-text",{staticClass:"icon-red"},[t._v("*")]),t._v("任务名称")],1),i("v-uni-view",{staticClass:"uni-list-cell-db"},[i("v-uni-input",{staticClass:"uni-input",attrs:{name:"jobname",type:"text",placeholder:"请输入任务名称"},model:{value:t.jobName,callback:function(e){t.jobName=e},expression:"jobName"}})],1)],1)],1),i("v-uni-view",{staticClass:"uni-list"},[i("v-uni-view",{staticClass:"uni-list-cell addcell"},[i("v-uni-view",{staticClass:"uni-list-cell-left"},[i("v-uni-text",{staticClass:"icon-red"},[t._v("*")]),t._v("选择子账号")],1),i("v-uni-view",{staticClass:"uni-list-cell-db"},[i("v-uni-picker",{attrs:{value:t.index2,range:t.array2},on:{change:function(e){e=t.$handleEvent(e),t.choose_account(e)}}},[i("v-uni-view",{staticClass:"uni-input uni-navigate-right"},[t._v(t._s(t.array2[t.index2]))])],1)],1)],1)],1),i("v-uni-view",{staticClass:"uni-list"},[i("v-uni-view",{staticClass:"uni-list-cell addcell"},[i("v-uni-view",{staticClass:"uni-list-cell-left"},[i("v-uni-text",{staticClass:"icon-red"},[t._v("*")]),t._v("输入号码")],1),i("v-uni-view",{staticClass:"uni-list-cell-db"},[i("v-uni-input",{staticClass:"uni-input",attrs:{name:"calleeno",type:"text",placeholder:"请输入号码"},model:{value:t.calleeno,callback:function(e){t.calleeno=e},expression:"calleeno"}})],1)],1)],1),i("v-uni-view",{staticClass:"uni-list"},[i("v-uni-view",{staticClass:"uni-list-cell addcell"},[i("v-uni-view",{staticClass:"uni-list-cell-left"},[i("v-uni-text",{staticClass:"icon-red"},[t._v("*")]),t._v("请选择话术模板")],1),i("v-uni-view",{staticClass:"uni-list-cell-db"},[i("v-uni-picker",{attrs:{value:t.index,range:t.array},on:{change:function(e){e=t.$handleEvent(e),t.project_sn(e)}}},[i("v-uni-view",{staticClass:"uni-<strong>input</strong> uni-navigate-right"},[t._v(t._s(t.array[t.index]))])],1)],1)],1)],1),i("v-uni-view",{staticClass:"uni-list"},[i("v-uni-view",{staticClass:"uni-list-cell addcell"},[i("v-uni-view",{staticClass:"uni-list-cell-left"},[i("v-uni-text",{staticClass:"icon-red"},[t._v("*")]),t._v("选择主叫号")],1),i("v-uni-view",{staticClass:"uni-list-cell-db"},[i("v-uni-picker",{attrs:{value:t.index3,range:t.array3},on:{change:function(e){e=t.$handleEvent(e),t.choose_callerno(e)}}},[i("v-uni-view",{staticClass:"uni-input uni-navigate-right"},[t._v(t._s(t.array3[t.index3]))])],1)],1)],1)],1),i("v-uni-view",{staticClass:"uni-list"},[i("v-uni-view",{staticClass:"uni-list-cell addcell"},[i("v-uni-view",{staticClass:"uni-list-cell-left"},[i("v-uni-text",{staticClass:"icon-red"},[t._v("*")]),t._v("是否自动外呼")],1),i("v-uni-view",{staticClass:"uni-list-cell-db"},[i("v-uni-radio-group",{on:{change:function(e){e=t.$handleEvent(e),t.radiowaihu(e)}}},t._l(t.items,function(e,a){return i("v-uni-label",{key:e.value,staticClass:"addradios"},[i("v-uni-view",{staticClass:"addradio"},[i("v-uni-radio",{attrs:{value:e.value,checked:a===t.current}}),i("v-uni-text",[t._v(t._s(e.name))])],1)],1)}),1)],1)],1)],1),i("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:1===t.current,expression:"current === 1"}],staticClass:"uni-list"},[i("v-uni-view",{staticClass:"uni-list-cell"},[i("v-uni-view",{staticClass:"uni-list-cell-left"},[i("v-uni-text",{staticClass:"icon-red"},[t._v("*")]),t._v("定时启动任务")],1),i("v-uni-view",{staticClass:"uni-list-cell-db"},[i("ruiDatePicker",{attrs:{fields:"second",start:t.date,end:"2030-12-30 23:59:59",value:t.valuetime},on:{change:function(e){e=t.$handleEvent(e),t.bindChange(e)},cancel:function(e){e=t.$handleEvent(e),t.bindCancel(e)}}})],1)],1)],1),i("v-uni-view",{staticClass:"uni-list"},[i("v-uni-view",{staticClass:"uni-list-cell addcell"},[i("v-uni-view",{staticClass:"uni-list-cell-left"},[i("v-uni-text",{staticClass:"icon-w"},[t._v("*")]),t._v("自动失败重呼")],1),i("v-uni-view",{staticClass:"uni-list-cell-db"},[i("v-uni-radio-group",{on:{change:function(e){e=t.$handleEvent(e),t.radiochonghu(e)}}},t._l(t.items2,function(e,a){return i("v-uni-label",{key:e.value,staticClass:"addradios"},[i("v-uni-view",{staticClass:"addradio"},[i("v-uni-radio",{attrs:{value:e.value,checked:a===t.current2}}),i("v-uni-text",[t._v(t._s(e.name))])],1)],1)}),1)],1)],1)],1),i("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:0==t.current2,expression:"current2 == 0"}]},[i("v-uni-view",{staticClass:"uni-list"},[i("v-uni-view",{staticClass:"uni-list-cell "},[i("v-uni-view",{staticClass:"uni-list-cell-left"},[i("v-uni-text",{staticClass:"icon-w"},[t._v("*")]),t._v("选择通话结果"),i("v-uni-label",{staticClass:"radio",staticStyle:{"margin-left":"40upx"}},[i("v-uni-text",{staticStyle:{display:"inline-block",width:"70upx"}},[t._v("全选")]),i("v-uni-radio",{attrs:{checked:t.isAllCheck},on:{click:function(e){e=t.$handleEvent(e),t.AllCheck(e)}}})],1),i("v-uni-view",{staticClass:"result"},t._l(t.results,function(e,a){return i("v-uni-text",{key:a,staticClass:"resultItem",class:{active:e.xuanzhong},attrs:{"data-code":"item.value"},on:{click:function(e){e=t.$handleEvent(e),t.checkResult(a)}}},[t._v(t._s(e.name))])}),1)],1)],1)],1),i("v-uni-view",{staticClass:"uni-list"},[i("v-uni-view",{staticClass:"uni-list-cell addcell"},[i("v-uni-view",{staticClass:"uni-list-cell-left"},[i("v-uni-text",{staticClass:"icon-red"},[t._v("*")]),t._v("重呼次数")],1),i("v-uni-view",{staticClass:"uni-list-cell-db"},[i("v-uni-input",{staticClass:"uni-input",attrs:{name:"callNum",placeholder:"请输入重呼次数"},model:{value:t.callNum,callback:function(e){t.callNum=e},expression:"callNum"}})],1)],1)],1),i("v-uni-view",{staticClass:"uni-list"},[i("v-uni-view",{staticClass:"uni-list-cell addcell"},[i("v-uni-view",{staticClass:"uni-list-cell-left"},[i("v-uni-text",{staticClass:"icon-red"},[t._v("*")]),t._v("重呼间隔")],1),i("v-uni-view",{staticClass:"uni-list-cell-db callNum"},[i("v-uni-input",{staticClass:"uni-input",attrs:{name:"callStep",placeholder:"请输入重呼间隔"},model:{value:t.callStep,callback:function(e){t.callStep=e},expression:"callStep"}}),i("v-uni-text",{on:{click:function(e){e=t.$handleEvent(e),t.toggleUnit(e)}}},[t._v(t._s(t.timeUnit))])],1)],1)],1)],1),i("v-uni-view",{staticClass:"uni-textarea addtextarea"},[i("v-uni-view",{staticClass:"uni-list-cell textareacell"},[i("v-uni-view",{staticClass:"uni-list-cell-left"},[i("v-uni-text",{staticClass:"icon-w"},[t._v("*")]),t._v("任务描述")],1),i("v-uni-view",{staticClass:"uni-list-cell-db"},[i("v-uni-textarea",{attrs:{placeholder:"请输入任务描述",name:"taskRamk"},model:{value:t.taskRamk,callback:function(e){t.taskRamk=e},expression:"taskRamk"}})],1)],1)],1),i("v-uni-view",[i("v-uni-button",{staticClass:"savebutton",attrs:{type:"primary"},on:{click:function(e){e=t.$handleEvent(e),t.save(e)}}},[t._v("保存")])],1)],1)],1)],1)},n=[];i.d(e,"a",function(){return a}),i.d(e,"b",function(){return n})},"60ea":function(t,e,i){"use strict";i.r(e);var a=i("17b6"),n=i.n(a);for(var s in a)"default"!==s&&function(t){i.d(e,t,function(){return a[t]})}(s);e["default"]=n.a},"66ce":function(t,e,i){"use strict";function a(t){return l(t)||s(t)||n()}function n(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function s(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function l(t){if(Array.isArray(t)){for(var e=0,i=new Array(t.length);e<t.length;e++)i[e]=t[e];return i}}var r={withData:function(t){var e=parseInt(t);return e<10?"0"+e:""+e},getTimes:function(t){return new Date(t.replace(/-/g,"/")).getTime()},getCurrentTimes:function(){var t=new Date,e=t.getFullYear(),i=t.getMonth()+1,a=t.getDate(),n=t.getHours(),s=t.getMinutes(),l=t.getSeconds();return{detail:{year:e,month:i,day:a,hour:n,minute:s,second:l}}},format:function(t){var e=[],i=[],a="";return t.forEach(function(t,a){var n=r.withData(t);a>2?e.push(n):i.push(n)}),a=t.length<4?i.join("-"):i.join("-")+" "+e.join(":"),a},getCurrentStringValue:function(t){var e=t.split(" ");if(e&&e[1]){var i=[].concat(a(e[0].split("-")),a(e[1].split(":")));return i}return e[0].split("-")},getCompare:function(t,e,i,a){var n=r.getTimes(t),s=r.getTimes(e),l=r.getTimes(i);return n<s?r.getTimeIndex(a,r.getCurrentStringValue(e)):n>l?r.getTimeIndex(a,r.getCurrentStringValue(i)):r.getTimeIndex(a,r.getCurrentStringValue(t))},getChooseArr:function(t,e){var i=[];return t.forEach(function(t,a){return i.push(t[e[a]])}),i},getNewArray:function(t){var e=[];return t.forEach(function(t){return e.push(t)}),e},getLoopArray:function(t,e){t=t||0,e=e||1;for(var i=[],a=t;a<=e;a++)i.push(r.withData(a));return i},getMonthDay:function(t,e){var i=t%400==0||t%4==0&&t%100!=0,a=null;switch(e){case"01":case"03":case"05":case"07":case"08":case"10":case"12":a=r.getLoopArray(1,31);break;case"04":case"06":case"09":case"11":a=r.getLoopArray(1,30);break;case"02":a=i?r.getLoopArray(1,29):r.getLoopArray(1,28);break;default:a="月份格式不正确，请重新输入！"}return a},getDateTimes:function(t){var e=r.getLoopArray(t.start,t.end),i=r.getLoopArray(1,12),a=r.getMonthDay(t.curyear,t.curmonth),n=r.getLoopArray(0,23),s=r.getLoopArray(0,59),l=r.getLoopArray(0,59),u=null;switch(t.fields){case"year":u=[e];break;case"month":u=[e,i];break;case"day":u=[e,i,a];break;case"hour":u=[e,i,a,n];break;case"minute":u=[e,i,a,n,s];break;case"second":u=[e,i,a,n,s,l];break;default:u=[e,i,a,n,s,l]}return u},getIndex:function(t,e){for(var i=t.length,a=0;a<i;a++)if(t[a]==e)return a},getTimeIndex:function(t,e){for(var i=t.length,a=[],n=0;n<i;n++)a.push(r.getIndex(t[n],e[n]));return a},error:function(t){console.error(t)}};t.exports=r},"6f3e":function(t,e,i){"use strict";var a=i("9925"),n=i.n(a);n.a},"8cfa":function(t,e,i){var a=i("b4e2");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("3539f8fe",a,!0,{sourceMap:!1,shadowMode:!1})},9925:function(t,e,i){var a=i("f6c4");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("3065ab41",a,!0,{sourceMap:!1,shadowMode:!1})},b4e2:function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,'.content[data-v-08553f7d]{overflow:hidden;padding:%?30?%;font-family:Segoe UI,Lucida Grande,Helvetica,Arial,Microsoft YaHei,FreeSans,Arimo,Droid Sans,wenquanyi micro hei,Hiragino Sans GB,Hiragino Sans GB W3,FontAwesome,sans-serif}.icon-red[data-v-08553f7d]{padding:0 %?5?%;font-size:12px;color:red}.addTack_top[data-v-08553f7d]{font-size:12px;color:#888}.uni-list[data-v-08553f7d],.uni-textarea[data-v-08553f7d]{background-color:#efefef;font-size:12px;margin:%?25?% 0;padding:0;border-radius:6px}.uni-input[data-v-08553f7d],.uni-list-cell[data-v-08553f7d]:after,.uni-list[data-v-08553f7d]:after,.uni-list[data-v-08553f7d]:before{background-color:rgba(0,0,0,0)}.icon-w[data-v-08553f7d]{padding:0 %?5?%;font-size:12px;color:rgba(0,0,0,0)}.addcell[data-v-08553f7d]{height:40px;line-height:40px}uni-textarea[data-v-08553f7d]{height:80px;padding:10px 0}.uni-radio .uni-radio-input[data-v-08553f7d]{width:%?40?%;height:%?40?%}.addradio[data-v-08553f7d]{float:left;margin-right:%?100?%}.textareacell[data-v-08553f7d]{padding:10px 0;-webkit-align-items:initial;-ms-flex-align:initial;-webkit-box-align:initial;align-items:normal}.uni-textarea[data-v-08553f7d]{padding:0}uni-textarea[data-v-08553f7d]{padding:0}.uni-list-cell-db[data-v-08553f7d]{overflow:hidden;white-space:nowrap}.savebutton[data-v-08553f7d]{background-color:#3690ff;height:40px;line-height:40px;font-size:14px;border-radius:30px;margin-top:20px}.daoruhaoma uni-view[data-v-08553f7d]{float:left;margin-right:10px}.choose_file[data-v-08553f7d]{float:left;width:38%;padding-top:6px}.choose_file .daoru[data-v-08553f7d]{width:100%\r\n\t/* \ttext-overflow: -o-ellipsis-lastline;overflow: hidden;\r\n\ttext-overflow: ellipsis;display: -webkit-box;\r\n\t-webkit-line-clamp: 2;\r\n\t-webkit-box-orient: vertical; */}.daoruhaoma_text[data-v-08553f7d]{font-size:12px;padding:0 12px;border-radius:6px 0 0 6px;background-color:#efefef;height:40px;line-height:40px}.addtaskdown[data-v-08553f7d]{height:38px;line-height:38px;font-size:12px;color:#0093e6;border:1px solid #0093e6}.daoru[data-v-08553f7d]{height:38px;line-height:38px;font-size:12px;background-color:#3691ff;color:#fff;border:none}.clearfix[data-v-08553f7d]:after,.clearfix[data-v-08553f7d]:before{content:"";display:block;height:0;line-height:0;visibility:hidden;clear:both}.rui-picker.rui-class[data-v-08553f7d]{border:none}.result[data-v-08553f7d]{margin-top:%?20?%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;\r\n\t/* \tjustify-content: space-between; */padding-left:%?15?%}.resultItem[data-v-08553f7d]{padding:0 5px;margin-bottom:%?10?%;color:#3690ff;font-size:12px;margin-right:%?5?%;border:1px solid #3690ff}.resultItem sapn[data-v-08553f7d]{line-height:auto}.resultItem.active[data-v-08553f7d]{background-color:#3690ff;color:#fff}.callNum[data-v-08553f7d]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between}.callNum uni-text[data-v-08553f7d]{line-height:40px;width:60px;text-align:center;color:#666}',""])},bea2:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=l(i("0fd2")),n=l(i("9dcb")),s=l(i("84e6"));function l(t){return t&&t.__esModule?t:{default:t}}var r={components:{ruiDatePicker:a.default},data:function(){return{title:"picker",array:[],index:0,array2:[],index2:0,date:"",array3:[],index3:0,results:[{value:104,name:"关机",xuanzhong:!0},{value:109,name:"来电提醒",xuanzhong:!0},{value:110,name:"稍后再拨",xuanzhong:!0},{value:105,name:"停机",xuanzhong:!0},{value:111,name:"关机",xuanzhong:!0},{value:104,name:"无法接通",xuanzhong:!0},{value:108,name:"正在通话中",xuanzhong:!0},{value:102,name:"用户正忙",xuanzhong:!0},{value:103,name:"用户拒接",xuanzhong:!0},{value:112,name:"欠费",xuanzhong:!0},{value:101,name:"无人应答",xuanzhong:!0}],items:[{value:"1",name:"是"},{value:"3",name:"否"}],current:1,items2:[{value:"1",name:"是"},{value:"0",name:"否"}],current2:1,isAllCheck:!1,callNum:1,callStep:"",timeUnit:"分钟",jobName:"",callflowIds:[],callflowId:"",savedFilePath:"",userids:[],userid:"",phones:[],phone:"",valuetime:"",taskRamk:"",file:"",mais:[],mai:"",retrycondition1:"",num:1,calleeno:""}},computed:{startDate:function(){return this.getDate("start")},endDate:function(){return this.getDate("end")}},onLoad:function(){this.date=this.getCurrentDate(),this.valuetime=this.getCurrentDate(),this.getChlidList()},methods:{save:function(){var t=this,e={};if(e.jobname=this.jobName,e.userid=this.userid,e.calleeno=this.calleeno,e.callflowid=this.callflowId,e.callerno=this.phone,e.description=this.taskRamk,e.access_token=this.$store.state.token,e.maxobline=this.mai,"3"==this.items[this.current].value){e.open=this.items[this.current].value,e.timedstart=this.valuetime;var i=(0,n.default)(this.valuetime,"YYYY-MM-DD HH:mm:ss").valueOf(),a=(0,n.default)(this.date,"YYYY-MM-DD HH:mm:ss").valueOf();if(i<a)return void uni.showModal({title:"温馨提示",content:"不能选择比当前时间早的时间",showCancel:!1,confirmText:"确定",success:function(t){t.confirm}})}else e.open=1;if(1==this.items2[this.current2].value){e.autoretry=1;var l=0,r="";if(this.results.some(function(t){t.xuanzhong&&(l+=1,r+=t.value+",")}),0==l)return void uni.showModal({title:"温馨提示",content:"请至少选择一个通话结果",showCancel:!1,confirmText:"确定",success:function(t){t.confirm}});if(r=r.substring(0,r.length-1),e.retrycondition1=r,!this.callNum)return void uni.showModal({title:"温馨提示",content:"请输入重呼次数",showCancel:!1,confirmText:"确定",success:function(t){t.confirm}});e.retrytime=this.callNum,"小时"==this.timeUnit&&(this.callStep=60*this.callStep+""),e.retryinterval=this.callStep}else e.autoretry=0;if(!this.jobName||!this.userid||!this.calleeno||!this.callflowId||!this.phone)return console.log(this.jobName),console.log(this.userid),console.log(this.calleeno),console.log(this.callflowId),console.log(this.phone),void uni.showModal({title:"温馨提示",content:"必填项不能为空",showCancel:!1,confirmText:"确定",success:function(t){t.confirm}});this.disabled=!0;var u=e;(0,s.default)("/adminspa/marketing/add.html",u).then(function(e){if(0==e.data.code){t.jobName="",t.calleeno="",t.taskRamk="",t.current=1,t.current2=1,t.callNum=1,t.callStep="",t.isAllCheck=!1;try{uni.setStorageSync("addtask","ok"),uni.showModal({title:"温馨提示",content:e.data.msg,showCancel:!1,confirmText:"确定",success:function(t){console.log(t),t.confirm}})}catch(i){}}})},AllCheck:function(){var t=this;this.isAllCheck=!this.isAllCheck,this.results.some(function(e){e.xuanzhong=t.isAllCheck})},checkResult:function(t){this.results.some(function(e,i){i==t&&(e.xuanzhong=!e.xuanzhong)})},toggleUnit:function(){"分钟"==this.timeUnit?this.timeUnit="小时":"小时"==this.timeUnit&&(this.timeUnit="分钟")},bindChange:function(t){this.valuetime=t,console.log(this.valuetime)},bindCancel:function(t){console.log("激活取消函数")},getChlidList:function(){var t=this,e={userid:this.$store.state.userInfo.userid,access_token:this.$store.state.token};(0,s.default)("/adminspa/member/getchildlist.html",e).then(function(e){var i=e.data.data;console.log(i),t.array2=[];for(var a=0;a<i.length-1;a++)t.array2.push(i[a].username),t.userids.push(i[a].userid),t.mais.push(i[a].mn_ai);t.array2.unshift("请选择子账号"),t.userids.unshift(""),t.mais.unshift("")})},project_sn:function(t){console.log("picker发送选择改变，携带值为："+t.target.value),this.index=t.target.value,this.callflowId=this.callflowIds[t.target.value]},choose_callerno:function(t){this.index3=t.target.value,this.phone=this.phones[this.index3],console.log(this.phone)},choose_account:function(t){var e=this;this.index2=t.target.value,this.userid=this.userids[this.index2],this.mai=this.mais[this.index2],this.array=[],this.array3=[];var i={useradminid:this.userid,access_token:this.$store.state.token};(0,s.default)("/adminspa/phone/getuserphone.html",i,"GET").then(function(t){for(var i=t.data.data.callflow,a=t.data.data.phone,n=0;n<i.length;n++)e.array.push(i[n].flowname),e.callflowIds.push(i[n].id);e.array.unshift("请选择话术模板"),e.callflowIds.unshift("");for(var s=0;s<a.length;s++)e.array3.push(a[s].phoneno),e.phones.push(a[s].phoneno);e.array3.unshift("请选择主叫号"),e.phones.unshift("")})},radiowaihu:function(t){for(var e=0;e<this.items.length;e++)if(this.items[e].value===t.target.value){this.current=e;break}},radiotinghu:function(t){for(var e=0;e<this.items1.length;e++)if(this.items1[e].value===t.target.value){this.current1=e;break}},radiochonghu:function(t){for(var e=0;e<this.items2.length;e++)if(this.items2[e].value===t.target.value){this.current2=e;break}},bindTextAreaBlur:function(t){console.log(t.detail.value)},bindDateChange:function(t){this.date=t.target.value,console.log(t.target.value)},getDate:function(t){var e=new Date,i=e.getFullYear(),a=e.getMonth()+1,n=e.getDate();return"start"===t?i-=60:"end"===t&&(i+=2),a=a>9?a:"0"+a,n=n>9?n:"0"+n,"".concat(i,"-").concat(a,"-").concat(n)},getCurrentDate:function(){var t=(0,n.default)().format("YYYY-MM-DD hh:mm:ss");return console.log(t,"dddd"),t}}};e.default=r},f13e:function(t,e,i){"use strict";i.r(e);var a=i("4e9f"),n=i("3ba5");for(var s in n)"default"!==s&&function(t){i.d(e,t,function(){return n[t]})}(s);i("13ba");var l=i("2877"),r=Object(l["a"])(n["default"],a["a"],a["b"],!1,null,"08553f7d",null);e["default"]=r.exports},f6c4:function(t,e,i){e=t.exports=i("2350")(!1),e.push([t.i,".rui-picker[data-v-fa5cc2e4]{height:10vw;font-size:4vw;color:#000;display:-webkit-flex;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;padding:0 10px;-webkit-box-sizing:border-box;box-sizing:border-box;border:1px solid #aaa;border-radius:3px}",""])}}]);