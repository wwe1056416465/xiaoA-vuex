(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/tabBar/task/task"],{1393:function(t,a,e){"use strict";var n=e("ef6b"),o=e.n(n);o.a},"3b38":function(t,a,e){"use strict";var n=function(){var t=this,a=t.$createElement;t._self._c},o=[];e.d(a,"a",function(){return n}),e.d(a,"b",function(){return o})},4311:function(t,a,e){"use strict";e.r(a);var n=e("ae87"),o=e.n(n);for(var s in n)"default"!==s&&function(t){e.d(a,t,function(){return n[t]})}(s);a["default"]=o.a},"534e":function(t,a,e){"use strict";e.r(a);var n=e("3b38"),o=e("4311");for(var s in o)"default"!==s&&function(t){e.d(a,t,function(){return o[t]})}(s);e("1393");var r=e("2877"),i=Object(r["a"])(o["default"],n["a"],n["b"],!1,null,null,null);a["default"]=i.exports},ae87:function(t,a,e){"use strict";(function(t){Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;n(e("9dcb"));function n(t){return t&&t.__esModule?t:{default:t}}var o=function(){return e.e("components/mix-pulldown-refresh/mix-pulldown-refresh").then(e.bind(null,"ea99"))},s=function(){return e.e("components/mix-load-more/mix-load-more").then(e.bind(null,"485a"))},r=function(){return e.e("components/popup-layer/popup-layer").then(e.bind(null,"4380"))},i={components:{mixPulldownRefresh:o,mixLoadMore:s,popupLayer:r},data:function(){return{list:[],loadMoreStatus:0,page:1,sign:"",requestData:"",taskId:"",taskPage:"task",direction:"top"}},onShow:function(){this.requestData=JSON.stringify(this.$store.state.taskForm);try{var a=t.getStorageSync("sign"),e=t.getStorageSync("addtask");t.removeStorageSync("addtask"),this.sign=a,"tasksearch"!==this.sign&&"ok"!=e||(this.list=[],this.page=1),this.loadData("add")}catch(n){}},onNavigationBarButtonTap:function(a){t.navigateTo({url:"/pages/task/taskSearch"})},onHide:function(){this.$refs.popup.close();try{t.removeStorageSync("sign"),this.$store.commit("clearTask")}catch(a){}},onReachBottom:function(){this.loadData("add")},methods:{cc:function(a){var e=this,n=t.getStorageSync("taskId");"del"===a?this.list.some(function(t,a){t.id==n&&e.list.splice(a,1)}):this.list.map(function(t){t.id==n&&(t.status=a)})},loadData:function(a){var e=this;"add"===a&&(this.loadMoreStatus=1),setTimeout(function(){"refresh"===a&&(e.list=[],e.page=1),t.request({url:e.$url+"adminspa/marketing/index.html",method:"POST",header:{"Content-Type":"application/x-www-form-urlencoded",charset:"utf-8","X-Requested-With":"XMLhttpRequest"},data:{page:e.page,limit:3,data:e.requestData,access_token:e.$store.state.token},success:function(t){e.page++;for(var a=0;a<t.data.data.length;a++){var n=t.data.data[a].completed/t.data.data[a].total;n*=100,n=n.toFixed(0),t.data.data[a].percent=n}t.data.data.length<3&&(e.loadMoreStatus=2),e.list=e.list.concat(t.data.data)}}),"add"===a&&(e.loadMoreStatus=0),"refresh"===a&&(e.$refs.mixPulldownRefresh&&e.$refs.mixPulldownRefresh.endPulldownRefresh(),e.loadMoreStatus=0)},500)},task_add:function(){t.navigateTo({url:"/pages/task/addtask"})},caozuobtn:function(a){var e=a.target.dataset.type;t.setStorageSync("tasktype",e)},showTip:function(a,e,n){this.$refs.popup.show(),this.taskId=String(a);var o=String(e),s=String(n);t.setStorageSync("taskId",this.taskId),t.setStorageSync("taskStatus",o),t.setStorageSync("taskFail",s)},close:function(){this.$refs.popup.close()},onPulldownReresh:function(){this.loadData("refresh")}}};a.default=i}).call(this,e("543d")["default"])},ef6b:function(t,a,e){}},[["f410","common/runtime","common/vendor"]]]);